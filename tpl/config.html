<load target="css/config.css" />
<load target="js/config.js" />

<div class="x_page-header">
    <h1>{$lang->krzip}</h1>
</div>

<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/krzip/tpl/config/1'" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
    <p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<section class="section">
    <form ruleset="configKrzip" class="x_form-horizontal" action="./" method="post">
        <input type="hidden" name="module" value="krzip" />
        <input type="hidden" name="act" value="procKrzipAdminInsertConfig" />
        <input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
        <input type="hidden" name="xe_validator_id" value="modules/krzip/tpl/config/1" />
        
        <div class="x_control-group">
            <label class="x_control-label" for="krzip_server_url">{$lang->krzip_server_url}</label>
            <div class="x_controls">
                <input type="text" id="krzip_server_url" name="krzip_server_url" value="{htmlspecialchars($krzip_config->krzip_server_url)}" class="inputTypeText" style="width:92%" />
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label" for="krzip_map_provider">{$lang->krzip_map_provider}</label>
            <div class="x_controls">
                <select name="krzip_map_provider" id="krzip_map_provider">
                    <option value="">{$lang->krzip_map_provider_none}</option>
                    <option value="daum" selected="selected"|cond="$krzip_config->krzip_map_provider == 'daum'">{$lang->krzip_map_provider_daum}</option>
                    <option value="naver" selected="selected"|cond="$krzip_config->krzip_map_provider == 'naver'">{$lang->krzip_map_provider_naver}</option>
                    <option value="google" selected="selected"|cond="$krzip_config->krzip_map_provider == 'google'">{$lang->krzip_map_provider_google}</option>
                </select>
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label">{$lang->krzip_address_format}</label>
            <div class="x_controls">
                <select name="krzip_address_format" id="krzip_address_format">
                    <option value="postcodify" selected="selected"|cond="$krzip_config->krzip_address_format == 'postcodify'">{$lang->krzip_address_format_postcodify}</option>
                    <option value="newkrzip" selected="selected"|cond="$krzip_config->krzip_address_format == 'newkrzip'">{$lang->krzip_address_format_newkrzip}</option>
                    <option value="oldkrzip3" selected="selected"|cond="$krzip_config->krzip_address_format == 'oldkrzip3'">{$lang->krzip_address_format_oldkrzip3}</option>
                    <option value="oldkrzip2" selected="selected"|cond="$krzip_config->krzip_address_format == 'oldkrzip2'">{$lang->krzip_address_format_oldkrzip2}</option>
                </select>
                <div id="postcodify_display_customization">
                    <label for="krzip_display_postcode" class="x_inline"><input type="checkbox" name="krzip_display_postcode" id="krzip_display_postcode" checked="checked" disabled="disabled" value="Y" /> {$lang->krzip_postal_code}</label><br />
                    <label for="krzip_display_address" class="x_inline"><input type="checkbox" name="krzip_display_address" id="krzip_display_address" checked="checked"|cond="$krzip_config->krzip_display_address == 'Y'" value="Y" /> {$lang->krzip_road_address}</label><br />
                    <label for="krzip_display_details" class="x_inline"><input type="checkbox" name="krzip_display_details" id="krzip_display_details" checked="checked"|cond="$krzip_config->krzip_display_details == 'Y'" value="Y" /> {$lang->krzip_details}</label><br />
                    <label for="krzip_display_extra_info" class="x_inline"><input type="checkbox" name="krzip_display_extra_info" id="krzip_display_extra_info" checked="checked"|cond="$krzip_config->krzip_display_extra_info == 'Y'" value="Y" /> {$lang->krzip_extra_info}</label><br />
                    <label for="krzip_display_jibeon_address" class="x_inline"><input type="checkbox" name="krzip_display_jibeon_address" id="krzip_display_jibeon_address" checked="checked"|cond="$krzip_config->krzip_display_jibeon_address == 'Y'" value="Y" /> {$lang->krzip_jibeon_address}</label><br />
                </div>
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label">{$lang->krzip_postcode_format}</label>
            <div class="x_controls">
                <label for="krzip_postcode_format_5" class="x_inline"><input type="radio" name="krzip_postcode_format" id="krzip_postcode_format_5" value="5" checked="checked"|cond="$krzip_config->krzip_postcode_format == 5" /> {$lang->krzip_postcode_format_5}</label>
                <label for="krzip_postcode_format_6" class="x_inline"><input type="radio" name="krzip_postcode_format" id="krzip_postcode_format_6" value="6" checked="checked"|cond="$krzip_config->krzip_postcode_format == 6" /> {$lang->krzip_postcode_format_6}</label>
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label">{$lang->krzip_server_request_format}</label>
            <div class="x_controls">
                <label for="krzip_server_request_format_cors" class="x_inline"><input type="radio" name="krzip_server_request_format" id="krzip_server_request_format_cors" value="CORS" checked="checked"|cond="$krzip_config->krzip_server_request_format != 'JSONP'" /> {$lang->krzip_server_request_format_cors}</label>
                <label for="krzip_server_request_format_jsonp" class="x_inline"><input type="radio" name="krzip_server_request_format" id="krzip_server_request_format_jsonp" value="JSONP" checked="checked"|cond="$krzip_config->krzip_server_request_format == 'JSONP'" /> {$lang->krzip_server_request_format_jsonp}</label>
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label">{$lang->krzip_require_exact_query}</label>
            <div class="x_controls">
                <label for="krzip_require_exact_query_y" class="x_inline"><input type="radio" name="krzip_require_exact_query" id="krzip_require_exact_query_y" value="Y" checked="checked"|cond="$krzip_config->krzip_require_exact_query == 'Y'" /> {$lang->cmd_yes}</label>
                <label for="krzip_require_exact_query_n" class="x_inline"><input type="radio" name="krzip_require_exact_query" id="krzip_require_exact_query_n" value="N" checked="checked"|cond="$krzip_config->krzip_require_exact_query != 'Y'" /> {$lang->cmd_no}</label>
            </div>
        </div>
        
        <div class="x_control-group">
            <label class="x_control-label">{$lang->krzip_use_full_jibeon}</label>
            <div class="x_controls">
                <label for="krzip_use_full_jibeon_y" class="x_inline"><input type="radio" name="krzip_use_full_jibeon" id="krzip_use_full_jibeon_y" value="Y" checked="checked"|cond="$krzip_config->krzip_use_full_jibeon == 'Y'" /> {$lang->cmd_yes}</label>
                <label for="krzip_use_full_jibeon_n" class="x_inline"><input type="radio" name="krzip_use_full_jibeon" id="krzip_use_full_jibeon_n" value="N" checked="checked"|cond="$krzip_config->krzip_use_full_jibeon != 'Y'" /> {$lang->cmd_no}</label>
            </div>
        </div>
        
        <div class="btnArea x_clearfix">
            <button type="submit" class="x_btn x_btn-primary x_pull-right">{$lang->cmd_registration}</button>
        </div>
        
    </form>
</section>

<section class="section">
    <h2>{$lang->krzip_form_preview}</h2>
    <p>{$lang->krzip_form_preview_needs_refresh}</p>
    <div class="x_control-group">
        <?php echo getModel('krzip')->getKrzipCodeSearchHtml('preview', array()); ?>
    </div>
</section>
